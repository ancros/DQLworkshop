{"version":"5","defaultTimeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-12-14T14:49:25.710Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-21T14:49:25.710Z"}}},"sections":[{"id":"23556987-d686-4f35-82f5-938f1b06a230","type":"markdown","markdown":"## Metrics on Grail\n* Las métricas de Grail le permiten identificar y recuperar cualquier dato de métrica con la ayuda de DQL.\n* ¡Las métricas pueden generar tendencias, analizarse e incluso pronosticarse con Davis AI!\n* [Ejemplo Metrics en Grail](https://docs.dynatrace.com/docs/shortlink/metrics-on-grail-examples)\n* [Lista de  Meticas en Grail](https://docs.dynatrace.com/docs/shortlink/built-in-metrics-on-grail) o selecciona SUPPORTED IN GRAIL en la pantalla de metricas\n![](https://github.com/JasonOstroski/perform-hot24-intro-to-dql/blob/main/images/metricsongrail.jpg?raw=true)"},{"id":"931c2906-6306-410b-ad43-b84f6d51fa3e","type":"markdown","markdown":"# Ejercicio 1\n1. Obtener la métrica de la serie temporal de carga de CPU por host"},{"id":"fa07dbe1-8376-4e8b-8587-9e55054fc057","type":"dql","showTitle":false,"height":450,"title":"Ejercicio 1.1 - Obten la metrica CPU load en una grafica sobre el tiempo por host","state":{"input":{"value":"timeseries series=avg(dt.host.cpu.load),by:{dt.entity.host}","timeframe":{"from":"now-2h","to":"now"}},"state":"success","davis":{"includeLogs":true,"isDavisVisualizationAvailable":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.host","categoryAxisLabel":"dt.entity.host","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["series"],"leftAxisDimensions":["dt.entity.host"],"rightAxisDimensions":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"dt.entity.host"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{},"lineWrapIds":[]},"unitsOverrides":[{"identifier":"series","unitCategory":"unspecified","baseUnit":"ratio","displayUnit":null,"decimals":2,"suffix":"","delimiter":true,"added":1709557654209}]},"result":{"code":200,"value":{"records":[{"timeframe":{"start":"2024-03-06T20:43:00.000Z","end":"2024-03-06T22:44:00.000Z"},"interval":"60000000000","dt.entity.host":"HOST-992FDE3F6BCC2AFD","series":[0.585693359375,0.8346354166666666,0.7970377604166666,0.3749186197916667,2.2168782552083335,3.370361328125,1.9190266927083333,0.8577473958333334,0.5858561197916666,0.2513834635416667,0.469970703125,0.498291015625,1.37744140625,2.478759765625,2.2360026041666665,1.3701985677083333,0.7626953125,0.4212239583333333,0.488525390625,0.5205078125,1.0806477864583333,2.888671875,2.5267740885416665,1.8316243489583333,1.13525390625,0.865478515625,0.4415690104166667,0.3951822916666667,0.3260091145833333,1.6741536458333333,2.8056640625,1.788818359375,1.2508138020833333,0.5603841145833334,0.3531087239583333,0.3197428385416667,0.36669921875,2.3602701822916665,4.327311197916667,4.473551432291667,3.6151529947916665,2.793212890625,2.4302571614583335,1.7911783854166667,1.7185872395833333,1.9566243489583333,3.593017578125,2.849853515625,2.0685221354166665,1.614013671875,1.4722493489583333,0.987060546875,0.8272298177083334,0.6375325520833334,1.89599609375,2.6057942708333335,1.92236328125,0.994873046875,0.5965169270833334,0.4374186197916667,0.350830078125,0.28662109375,1.607177734375,3.384033203125,1.8439127604166667,1.27197265625,1.3955891927083333,1.8568522135416667,2.0301920572916665,1.9244791666666667,1.8334147135416667,3.7699381510416665,3.7652994791666665,2.927001953125,1.5909830729166667,0.8280436197916666,0.578857421875,0.5160319010416666,0.6039225260416666,2.1510416666666665,2.442138671875,1.704345703125,1.0315755208333333,0.769287109375,0.5420735677083334,0.31201171875,0.416015625,2.171630859375,4.401774088541667,2.650390625,1.3636881510416667,0.76806640625,0.5009765625,0.40771484375,0.2470703125,0.7864583333333334,2.360595703125,1.9658203125,0.9676920572916666,0.568115234375,0.6387532552083334,1.41064453125,1.7189127604166667,1.7171223958333333,4.921956380208333,5.233561197916667,3.0045572916666665,1.73193359375,1.3447265625,0.5618489583333334,0.2666829427083333,0.3806966145833333,1.4339192708333333,3.5651041666666665,2.9347330729166665,1.6900227864583333,0.9966634114583334,0.8343912760416666,0.6201985677083334,0.8350423177083334,null]},{"timeframe":{"start":"2024-03-06T20:43:00.000Z","end":"2024-03-06T22:44:00.000Z"},"interval":"60000000000","dt.entity.host":"HOST-CFC0DCDD36AB4B9C","series":[0.3560384114583333,0.5953776041666666,0.9322102864583334,0.9342447916666666,0.8216145833333334,0.7803548177083334,0.7277018229166666,0.9098307291666666,0.662109375,0.7472330729166666,0.6116536458333334,0.3575032552083333,0.24381510416666666,0.5220540364583334,0.2914225260416667,0.3550618489583333,0.3400065104166667,0.35400390625,0.3534342447916667,0.6529947916666666,0.6229654947916666,0.4727376302083333,0.3486328125,0.3059895833333333,0.4051920572916667,0.23592122395833334,0.3087565104166667,0.280517578125,0.1875,0.21175130208333334,0.23649088541666666,0.4161783854166667,0.6503092447916666,0.5043131510416666,0.5799153645833334,1.1158040364583333,3.3173828125,2.4488932291666665,1.2928059895833333,1.7001139322916667,0.9715169270833334,0.599853515625,0.61474609375,0.6368815104166666,0.3980305989583333,0.25927734375,0.332275390625,0.3313802083333333,0.3441569010416667,0.13785807291666666,0.447509765625,1.4644368489583333,1.8268229166666667,1.9951985677083333,2.2394205729166665,2.3876139322916665,1.6836751302083333,1.2367350260416667,1.7887369791666667,2.4366861979166665,3.2159830729166665,2.7320963541666665,1.8379720052083333,1.6012369791666667,0.731201171875,0.5340983072916666,0.8277994791666666,1.7957356770833333,1.277587890625,0.67138671875,0.7403157552083334,0.478271484375,0.3944498697916667,0.184326171875,0.14396158854166666,0.11238606770833333,0.22200520833333334,0.24226888020833334,0.4618326822916667,0.4868977864583333,0.3440755208333333,0.40869140625,0.39892578125,0.4506022135416667,0.539794921875,0.5386555989583334,0.2976888020833333,0.188232421875,0.17301432291666666,0.2333984375,0.53125,0.54541015625,0.3501790364583333,0.3587239583333333,0.35009765625,0.523681640625,0.5374348958333334,0.489990234375,0.4812825520833333,0.3543294270833333,0.4182942708333333,0.36083984375,0.6299641927083334,0.68310546875,0.4358723958333333,0.3382161458333333,0.4437662760416667,0.6053873697916666,0.5458984375,0.420654296875,0.2947591145833333,0.6402994791666666,1.0271809895833333,1.0791829427083333,0.607177734375,0.2942708333333333,0.16796875,0.397216796875,1.1381022135416667,null,null]},{"timeframe":{"start":"2024-03-06T20:43:00.000Z","end":"2024-03-06T22:44:00.000Z"},"interval":"60000000000","dt.entity.host":"HOST-F0C54C9FF7F76912","series":[0.8999837239583334,1.0032552083333333,1.0839029947916667,0.6519368489583334,0.7802734375,1.2335611979166667,1.6761067708333333,1.1595865885416667,0.480224609375,0.20052083333333334,0.3536783854166667,0.3076985677083333,0.11140950520833333,0.12060546875,0.14689127604166666,0.15152994791666666,0.375,0.5457356770833334,0.3656412760416667,0.4288736979166667,0.4781087239583333,0.8121744791666666,0.8238932291666666,0.463134765625,0.4307454427083333,0.43212890625,0.2919108072916667,0.2647298177083333,0.3118489583333333,0.2908528645833333,0.14949544270833334,0.10807291666666667,0.076416015625,0.11922200520833333,0.3555501302083333,0.3052571614583333,0.2837727864583333,0.23152669270833334,0.2969563802083333,0.14029947916666666,0.7328287760416666,1.0557454427083333,1.1016438802083333,0.9386393229166666,0.9127604166666666,1.5305989583333333,1.9657389322916667,1.5326334635416667,0.6392415364583334,0.3692220052083333,1.627197265625,1.9625651041666667,1.8046061197916667,1.7190755208333333,1.5857747395833333,1.0297037760416667,0.5660807291666666,0.7887369791666666,0.81494140625,0.5807291666666666,0.3113606770833333,0.230224609375,0.4004720052083333,0.3631998697916667,0.2880859375,0.4131673177083333,0.63623046875,0.8905436197916666,0.8406575520833334,0.4296875,0.21931966145833334,0.17203776041666666,0.16552734375,0.5388997395833334,0.653564453125,0.96142578125,0.7914225260416666,0.45947265625,0.4945475260416667,0.3621419270833333,0.4957682291666667,0.39013671875,0.2635904947916667,0.311279296875,0.560791015625,0.63134765625,1.0076497395833333,1.4832356770833333,1.2442220052083333,0.5619303385416666,0.262939453125,0.6316731770833334,1.1258138020833333,0.5865885416666666,0.4928385416666667,0.19962565104166666,0.0712890625,0.2940266927083333,2.7813313802083335,3.085693359375,4.486409505208333,2.6673177083333335,1.4506022135416667,0.876220703125,1.218505859375,1.598876953125,1.62646484375,1.041748046875,2.052734375,1.9129231770833333,1.6591796875,1.2890625,1.3113606770833333,1.1891276041666667,1.13525390625,1.2491048177083333,1.14111328125,1.318359375,1.628173828125,null,null]}],"metadata":{"grail":{"canonicalQuery":"timeseries by:{dt.entity.host}, avg(dt.host.cpu.load), alias:series","timezone":"America/Mexico_City","query":"timeseries series=avg(dt.host.cpu.load),by:{dt.entity.host}","scannedRecords":0,"dqlVersion":"V1_0","scannedBytes":0,"analysisTimeframe":{"start":"2024-03-06T20:43:00.000Z","end":"2024-03-06T22:44:00.000Z"},"locale":"und","executionTimeMilliseconds":28,"notifications":[],"queryId":"64d17b53-7445-4d74-a161-624fa5e185dd","sampled":false},"metrics":[{"metric.key":"dt.host.cpu.load","displayName":"System load","description":"The average number of processes that are being executed by CPU or waiting to be executed by CPU over the last minute","unit":"ratio","fieldName":"series"}]},"types":[{"mappings":{"timeframe":{"type":"timeframe"},"interval":{"type":"duration"},"dt.entity.host":{"type":"string"},"series":{"type":"array","types":[{"mappings":{"element":{"type":"double"}},"indexRange":[0,120]}]}},"indexRange":[0,2]}]},"notifications":[],"dateTime":"2024-03-06T22:43:17.181Z","input":{"value":"timeseries series=avg(dt.host.cpu.load),by:{dt.entity.host}","timeframe":{"from":"now-2h","to":"now"}}},"visualization":"lineChart"}},{"id":"d818c0eb-0c35-4a68-9e44-7c5562d9d438","type":"markdown","markdown":"# Ejercicio 2\n1. Encuentre la serie temporal promedio para el \"uso de CPU del proceso\"\n2. Filtrar por grupo de procesos de entidad y host de entidad\n3. Utilice el pronóstico de Davis para predecir la tendencia en el tiempo.\n4. Extraiga datos del explorador de datos y utilícelos en DQL\n5. Agregue la etiqueta \"PRUEBA\" en el filtro seguida del tipo de host"},{"id":"095613c2-1a17-45ed-a1d4-19d6a8942274","type":"dql","showTitle":false,"title":"Ejercicio 2.1 - Encuentre la serie temporal promedio para el \"uso de CPU del proceso\"","state":{"input":{"value":"timeseries avg(dt.process.cpu.usage)","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-12-14T14:49:25.710Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-21T14:49:25.710Z"}}}},"visualization":"lineChart","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(dt.process.cpu.usage)"],"leftAxisDimensions":[],"rightAxisDimensions":[]}},"singleValue":{"colorThresholdTarget":"value","showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"result":{"code":200,"value":{"records":[{"timeframe":{"start":"2024-02-28T22:00:00.000Z","end":"2024-03-06T23:00:00.000Z"},"interval":"3600000000000","avg(dt.process.cpu.usage)":[0.22044160224004533,0.22582160638196522,0.23135825053269043,0.20862703905021132,0.20742367153282412,0.20656529784386007,0.21180364977540392,0.21653551706706023,0.2225169562364812,0.22794815831899923,0.20319909677385006,0.20646833918318977,0.21182372124226617,0.21604816478048902,0.22262530916172676,0.23495754482138817,0.23668097203145858,0.2044340805010147,0.20594982247349647,0.2134289187390643,0.22076864568373103,0.227424148941979,0.23497057685835737,0.2333699955789585,0.18920262663551413,0.05999514862372366,0.0619657595932836,0.06616737090863488,0.0724332403044715,0.07203963419691048,0.07808813799397257,0.07936626426802218,0.06543723979200451,0.06904492943423014,0.0704728160343828,0.07305192343935439,0.07748199826729991,0.08357050601955482,0.08438676260199865,0.07203706700693581,0.0735529511622173,0.07667555405482518,0.07935933367885513,0.08172131794129298,0.08648757730917156,0.08425702730066201,0.07270881212575177,0.07392772610853793,0.07706937872614501,0.07866774362912636,0.08265122364394202,0.08524954885174382,0.0825106225214236,0.07278857081018533,0.07521298829677246,0.07811208842289787,0.07923177651882292,0.08213884216470999,0.08441307443590838,0.08520427162455475,0.07281740333992226,0.07478779744729097,0.07889192322667407,0.07941233365368706,0.08138191241863045,0.08864192990508986,0.08387386278629286,0.07290062626622518,0.07509232319759772,0.07810885476320176,0.07952087719434463,0.08282308745631062,0.08761526943435462,0.08125013136272136,0.07256584604274419,0.07505848069118742,0.07685993309992059,0.07939785757270125,0.08297677586898163,0.08609775576386174,0.0768894152924892,0.07243931246427972,0.07472264696919853,0.0778302922556845,0.07989902317662036,0.08276775379134708,0.09042688548294092,0.07932496115231913,0.0730910736766923,0.075252882821438,0.07833978331672035,0.08055838018565586,0.08480046571798766,0.0872052640500727,0.07677840762057943,0.0739554992683345,0.07512938363068399,0.0778668722731346,0.04088383267171815,0.0770387216053962,0.08368942674266393,0.0896076020019629,0.09350684070905088,0.08736073009273779,0.08687478902583302,0.090542310122418,0.09696246376244984,0.09480453463133254,0.09169828412241567,0.09592070012213295,0.10247549111076526,0.10691218006889457,0.09708330283127184,0.09815720128426486,0.10240434428315148,0.10553691899271032,0.1048065666380849,0.09612721366069923,0.10241852833512799,0.10651401121975815,0.10937260937177092,0.10232375142108849,0.10047225605560436,0.10285062933470394,0.10599468803120764,0.10981373027420284,0.09668369160581697,0.0979240824177382,0.10058768372183707,0.10042373761364624,0.0998310033320483,0.09523059648935903,0.09961007246014762,0.10396484068843452,0.11051439951339614,0.10241725187852203,0.10175220820807834,0.10766005774467485,0.11036518353019871,0.1120965407392955,0.09604601867302301,0.10106614863294239,0.10434755384217757,0.11139603366435646,0.1075815226877977,0.10003589112971065,0.10422399802758021,0.10754274221380476,0.09615282400995048,0.07969358620590848,0.08213512192693229,0.08444100058887288,0.08730817129861262,0.08231348297839262,0.07923874759953035,0.08248834836866313,0.0843007471412032,0.0873818823349661,0.0843499654461012,0.08157886561488424,0.0832145395166924,0.08616528563607902,0.13167393466881294,0.16223530551094165,0.171685588018327,0.18758446372061713,0.19456582003177378,0.1750281124780677,0.18380007135937942]}],"metadata":{"grail":{"canonicalQuery":"timeseries avg(dt.process.cpu.usage)","timezone":"America/Mexico_City","query":"timeseries avg(dt.process.cpu.usage)","scannedRecords":0,"dqlVersion":"V1_0","scannedBytes":0,"analysisTimeframe":{"start":"2024-02-28T22:00:00.000Z","end":"2024-03-06T23:00:00.000Z"},"locale":"und","executionTimeMilliseconds":76,"notifications":[],"queryId":"dc1dc01e-b5f5-466c-b213-a68d9430bdb3","sampled":false},"metrics":[{"metric.key":"dt.process.cpu.usage","displayName":"Process CPU usage","description":"This metric provides the percentage of the CPU usage of a process. The metric value is the sum of CPU time every process worker uses divided by the total available CPU time. The result is expressed in percentage. A value of 100% indicates that the process uses all available CPU resources of the host. It has a \"Process\" dimension (dt.entity.process_group_instance).","unit":"%","fieldName":"avg(dt.process.cpu.usage)"}]},"types":[{"mappings":{"timeframe":{"type":"timeframe"},"interval":{"type":"duration"},"avg(dt.process.cpu.usage)":{"type":"array","types":[{"mappings":{"element":{"type":"double"}},"indexRange":[0,168]}]}},"indexRange":[0,0]}]},"notifications":[],"dateTime":"2024-03-06T22:44:22.349Z","input":{"value":"timeseries avg(dt.process.cpu.usage)","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-12-14T14:49:25.710Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-21T14:49:25.710Z"}}}}}}},{"id":"6c68fd3e-5fc6-4d4f-a938-5e0146d5a272","type":"dql","showTitle":false,"title":"Ejercicio 2.2 - Filtrar por grupo de procesos de entidad y host de entidad","state":{"input":{"value":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.host == \"HOST-9491B45202664A48\"\n| filter dt.entity.process_group == \"PROCESS_GROUP-5EB95D48BB966200\"","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-12-14T14:49:25.710Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-21T14:49:25.710Z"}}}},"visualization":"lineChart","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.host","valueAxis":"interval","categoryAxisLabel":"dt.entity.host","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(dt.process.cpu.usage)"],"leftAxisDimensions":["dt.entity.host","dt.entity.process_group"],"rightAxisDimensions":[]}},"singleValue":{"colorThresholdTarget":"value","showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"dt.entity.host"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"result":{"code":200,"value":{"records":[{"timeframe":{"start":"2024-02-28T22:00:00.000Z","end":"2024-03-06T23:00:00.000Z"},"interval":"3600000000000","dt.entity.host":"HOST-9491B45202664A48","dt.entity.process_group":"PROCESS_GROUP-5EB95D48BB966200","avg(dt.process.cpu.usage)":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.990082965503946,1.00525594777945,0.9623409969111284,0.9950752198282216,0.9922830804354614,0.997133561803235,0.9622641120519903,0.9876470151046912,1.0185714566873179,0.9958478071830339,1.0314954705536366,1.0030655067207084,1.0031410330285628,1.0445835756758848,0.9933336105611589,1.0066735722952418,1.0011314837882916,0.9995927173230383,0.9897894781910711,0.9908572575284376,0.9719263675726122,0.9878501551846663,1.003852123270432,1.0359627296527227,0.9869327381253242,0.9480932472273708,0.949650101032522,0.9732617563671536,0.9642543683863348,1.0016574641482698,0.9605913588984145,0.9771678824805551,0.9521884221997526,0.9520663109504515,0.9664565274698866,1.0095798726297087,0.9704518814881643,0.9553655897163682,0.9919041550821728,1.0091605854324168,0.9692906089540985,1.0040407967236307,0.9881256992618243,0.9572507835096783,1.0048081820209822,0.9765797095994154,0.9663385850687821,0.9643331688311365,0.9636976732148065,0.9678073990676138,0.968441918409533,0.9722392784638537,0.9665507095969386,0.9928757938866813,0.9502455796425541,0.9629774510860443,1.019358696622981,0.9598299643231762,0.9863105233344767,0.9952494754145543,0.9994885203739007,0.9810403985074825,0.9739693805575371,0.9190258754519965,null,null,null,null,null,null]}],"metadata":{"grail":{"canonicalQuery":"timeseries by:{dt.entity.host, dt.entity.process_group}, avg(dt.process.cpu.usage)\n| filter dt.entity.host == \"HOST-9491B45202664A48\"\n| filter dt.entity.process_group == \"PROCESS_GROUP-5EB95D48BB966200\"","timezone":"America/Mexico_City","query":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.host == \"HOST-9491B45202664A48\"\n| filter dt.entity.process_group == \"PROCESS_GROUP-5EB95D48BB966200\"","scannedRecords":0,"dqlVersion":"V1_0","scannedBytes":0,"analysisTimeframe":{"start":"2024-02-28T22:00:00.000Z","end":"2024-03-06T23:00:00.000Z"},"locale":"und","executionTimeMilliseconds":38,"notifications":[],"queryId":"226bc699-afb6-40d5-836d-d01123f9f50d","sampled":false},"metrics":[{"metric.key":"dt.process.cpu.usage","displayName":"Process CPU usage","description":"This metric provides the percentage of the CPU usage of a process. The metric value is the sum of CPU time every process worker uses divided by the total available CPU time. The result is expressed in percentage. A value of 100% indicates that the process uses all available CPU resources of the host. It has a \"Process\" dimension (dt.entity.process_group_instance).","unit":"%","fieldName":"avg(dt.process.cpu.usage)"}]},"types":[{"mappings":{"timeframe":{"type":"timeframe"},"interval":{"type":"duration"},"dt.entity.host":{"type":"string"},"dt.entity.process_group":{"type":"string"},"avg(dt.process.cpu.usage)":{"type":"array","types":[{"mappings":{"element":{"type":"double"}},"indexRange":[0,168]}]}},"indexRange":[0,0]}]},"notifications":[],"dateTime":"2024-03-06T22:46:13.354Z","input":{"value":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.host == \"HOST-9491B45202664A48\"\n| filter dt.entity.process_group == \"PROCESS_GROUP-5EB95D48BB966200\"","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-12-14T14:49:25.710Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-21T14:49:25.710Z"}}}}}}},{"id":"51f63a10-b481-49e3-9fcf-2761ddc019b0","type":"dql","showTitle":false,"height":403,"title":"Ejercicio 2.3 - Utilice el pronóstico de Davis para predecir la tendencia en el tiempo.","state":{"input":{"value":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.host == \"HOST-9491B45202664A48\"\n| filter dt.entity.process_group == \"PROCESS_GROUP-5EB95D48BB966200\"","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-11-22T16:05:13.818Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-29T16:05:13.818Z"}}}},"state":"success","davis":{"includeLogs":true,"isDavisVisualizationAvailable":true,"davisVisualization":{"isAvailable":true},"enabled":true,"componentState":{"selectedAnalyzerName":"dt.statistics.ui.ForecastAnalyzer","inputData":{"dt.statistics.ui.ForecastAnalyzer":{"query":{"expression":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.host == \"HOST-9491B45202664A48\"\n| filter dt.entity.process_group == \"PROCESS_GROUP-5EB95D48BB966200\""},"generalParameters":{"resolveDimensionalQueryData":true,"logVerbosity":"INFO","timeframe":{"startTime":"now-7d","endTime":"now"}}}},"resultState":{"dt.statistics.ui.ForecastAnalyzer":{"loadingState":"success","executionTime":"2024-03-06T22:47:16.933Z","result":{"result":{"resultId":"85ed7ffd82b0bdc","resultStatus":"SUCCESSFUL","executionStatus":"COMPLETED","input":{"generalParameters":{"timeframe":{"startTime":"2024-02-28T22:47:17.401Z","endTime":"2024-03-06T22:47:17.401Z"},"resolveDimensionalQueryData":true,"logVerbosity":"INFO"},"query":{"expression":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.host == \"HOST-9491B45202664A48\"\n| filter dt.entity.process_group == \"PROCESS_GROUP-5EB95D48BB966200\""},"forecastHorizon":100},"output":[{"resultTimeseries":{"records":[{"dt.davis.forecast:lower":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.9341645405266046,0.9335913249293573,0.9330060893378772,0.9324090661301533,0.9318004933050799,0.9311806135197006,0.9305496731592738,0.9299079214456905,0.9292556095888055,0.9285929899843057,0.9279203154608368,0.9272378385782655,0.9265458109781827,0.9258444827870395,0.9251341020716866,0.9244149143465432,0.9236871621311478,0.922951084556453,0.922206917017917,0.9214548908731818,0.9206952331819529,0.9199281664855606,0.9191539086236011,0.9183726725850266,0.917584666391051,0.9167900930072734,0.9159891502824853,0.915182030911705,0.9143689224210878,0.9135500071724665,0.912725462385402,0.9118954601747487,0.9110601676018685,0.9102197467377593,0.9093743547364921,0.9085241439174799,0.907669261855221,0.906809851475283,0.9059460511554022,0.9050779948306821,0.9042058121019784,0.9033296283466439,0.9024495648309072,0.9015657388232302,0.9006782637080676,0.8997872490995263,0.8988928009544781,0.897995021684742,0.8970940102680057,0.8961898623571991,0.8952826703880803,0.8943725236848337,0.8934595085635081,0.8925437084331644,0.8916252038946212,0.8907040728367135,0.8897803905300085,0.8888542297179293,0.8879256607052661,0.886994751444062,0.886061567616875,0.8851261727174325,0.8841886281286971,0.8832489931983787,0.8823073253119286,0.8813636799630591,0.8804181108218394,0.8794706698004187,0.8785214071164309,0.8775703713541426,0.8766176095234016,0.8756631671164467,0.8747070881626435,0.8737494152812066,0.8727901897319716,0.8718294514642794,0.8708672391640335,0.8699035902989947,0.8689385411623699,0.8679721269147564,0.8670043816245003,0.8660353383065237,0.8650650289596792,0.8640934846026846,0.8631207353086894,0.8621468102385258,0.8611717376726945,0.8601955450421315,0.8592182589578041,0.8582399052391813,0.8572605089416203,0.8562800943827151,0.8552986851676427,0.8543163042135515,0.8533329737730249,0.8523487154566599,0.851363550254794,0.8503774985584153,0.8493905801792855,0.8484028143693121],"dt.davis.forecast:upper":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.0034245287279564,1.0032823960574662,1.0031522833803777,1.0030339583187178,1.0029271828736084,1.002831714388023,1.00274730647672,1.002673709917826,1.0026106735015032,1.0025579448320823,1.0025152710809353,1.0024823996882126,1.0024590790123409,1.0024450589268863,1.0024400913650156,1.0024439308123256,1.0024563347492959,1.0024770640449896,1.002505883303965,1.0025425611685963,1.0025868705791932,1.0026385889944411,1.002697498574759,1.002763386331209,1.0028360442425923,1.0029152693433232,1.003000863784624,1.00309263487149,1.0031903950777783,1.0032939620416694,1.0034031585436145,1.0035178124687707,1.0036377567557881,1.0037628293336798,1.0038928730483854,1.004027735580503,1.0041672693555441,1.0043113314479513,1.0044597834799975,1.0046124915165886,1.0047693259568782,1.0049301614235218,1.005094876650299,1.0052633543687564,1.005435481194447,1.0056111475132716,1.0057902473683658,1.0059726783479173,1.0061583414742454,1.0063471410944271,1.0065389847727102,1.006733783184917,1.0069314500150044,1.0071319018539169,1.0073350581008425,1.0075408408669504,1.0077491748816794,1.0079599874016112,1.0081732081219603,1.0083887690906885,1.0086066046252422,1.0088266512318986,1.0090488475276993,1.0092731341649384,1.0094994537581685,1.0097277508136815,1.009957971661411,1.0101900643892128,1.0104239787794553,1.0106596662478757,1.0108970797846295,1.011136173897481,1.0113769045570675,1.0116192291441777,1.0118631063989783,1.0121084963721316,1.0123553603777369,1.0126036609480353,1.0128533617898232,1.013104427742505,1.0133568247377376,1.0136105197606011,1.0138654808122447,1.0141216768739532,1.0143790778725787,1.0146376546472915,1.0148973789175926,1.0151582232525478,1.0154201610411917,1.0156831664640575,1.015947214465789,1.0162122807287945,1.0164783416478984,1.0167453743059538,1.0170133564503792,1.0172822664705787,1.0175520833762162,1.0178227867763054,1.0180943568590854,1.018366774372651],"avg(dt.process.cpu.usage)":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.990082965503946,1.00525594777945,0.9623409969111284,0.9950752198282216,0.9922830804354614,0.997133561803235,0.9622641120519903,0.9876470151046912,1.0185714566873179,0.9958478071830339,1.0314954705536366,1.0030655067207084,1.0031410330285628,1.0445835756758848,0.9933336105611589,1.0066735722952418,1.0011314837882916,0.9995927173230383,0.9897894781910711,0.9908572575284376,0.9719263675726122,0.9878501551846663,1.003852123270432,1.0359627296527227,0.9869327381253242,0.9480932472273708,0.949650101032522,0.9732617563671536,0.9642543683863348,1.0016574641482698,0.9605913588984145,0.9771678824805551,0.9521884221997526,0.9520663109504515,0.9664565274698866,1.0095798726297087,0.9704518814881643,0.9553655897163682,0.9919041550821728,1.0091605854324168,0.9692906089540985,1.0040407967236307,0.9881256992618243,0.9572507835096783,1.0048081820209822,0.9765797095994154,0.9663385850687821,0.9643331688311365,0.9636976732148065,0.9678073990676138,0.968441918409533,0.9722392784638537,0.9665507095969386,0.9928757938866813,0.9502455796425541,0.9629774510860443,1.019358696622981,0.9598299643231762,0.9863105233344767,0.9952494754145543,0.9994885203739007,0.9810403985074825,0.9739693805575371,0.9190258754519965,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"dt.davis.forecast:point":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.9687945358248068,0.9684368616983916,0.9680791875719765,0.9677215134455615,0.9673638393191463,0.9670061651927312,0.9666484910663161,0.9662908169399009,0.9659331428134859,0.9655754686870707,0.9652177945606556,0.9648601204342405,0.9645024463078253,0.9641447721814103,0.9637870980549952,0.96342942392858,0.9630717498021649,0.9627140756757497,0.9623564015493347,0.9619987274229196,0.9616410532965044,0.9612833791700893,0.9609257050436742,0.9605680309172591,0.960210356790844,0.9598526826644289,0.9594950085380137,0.9591373344115987,0.9587796602851835,0.9584219861587684,0.9580643120323533,0.9577066379059381,0.957348963779523,0.956991289653108,0.9566336155266928,0.9562759414002777,0.9559182672738625,0.9555605931474475,0.9552029190210324,0.9548452448946172,0.9544875707682021,0.954129896641787,0.9537722225153719,0.9534145483889568,0.9530568742625416,0.9526992001361265,0.9523415260097114,0.9519838518832963,0.9516261777568812,0.9512685036304661,0.9509108295040509,0.9505531553776358,0.9501954812512208,0.9498378071248056,0.9494801329983905,0.9491224588719753,0.9487647847455603,0.9484071106191452,0.94804943649273,0.9476917623663149,0.9473340882398997,0.9469764141134847,0.9466187399870696,0.9462610658606544,0.9459033917342393,0.9455457176078242,0.9451880434814091,0.944830369354994,0.9444726952285789,0.9441150211021637,0.9437573469757486,0.9433996728493335,0.9430419987229184,0.9426843245965033,0.9423266504700881,0.941968976343673,0.941611302217258,0.9412536280908428,0.9408959539644277,0.9405382798380125,0.9401806057115975,0.9398229315851824,0.9394652574587672,0.9391075833323521,0.938749909205937,0.9383922350795219,0.9380345609531068,0.9376768868266916,0.9373192127002765,0.9369615385738614,0.9366038644474463,0.9362461903210312,0.9358885161946161,0.9355308420682009,0.9351731679417858,0.9348154938153708,0.9344578196889556,0.9341001455625405,0.9337424714361253,0.9333847973097102],"timeframe":{"start":"2024-02-28T22:00Z","end":"2024-03-11T03:00Z"},"interval":"3600000000000","dt.entity.process_group":"PROCESS_GROUP-5EB95D48BB966200","dt.entity.host":"HOST-9491B45202664A48"}],"types":[{"indexRange":[0,0],"mappings":{"dt.entity.process_group":{"type":"string"},"dt.davis.forecast:lower":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"timeframe":{"type":"timeframe"},"dt.davis.forecast:upper":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"avg(dt.process.cpu.usage)":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"dt.davis.forecast:point":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"interval":{"type":"duration"},"dt.entity.host":{"type":"string"}}}],"metadata":{"metrics":[{"metric.key":"dt.process.cpu.usage","fieldName":"avg(dt.process.cpu.usage)","unit":"%","description":"This metric provides the percentage of the CPU usage of a process. The metric value is the sum of CPU time every process worker uses divided by the total available CPU time. The result is expressed in percentage. A value of 100% indicates that the process uses all available CPU resources of the host. It has a \"Process\" dimension (dt.entity.process_group_instance).","displayName":"Process CPU usage"}]}},"timeseriesAnnotations":[],"thresholds":[],"analysisStatus":"SUCCESS"}],"data":[]}}}},"lastExecution":{"analyzerName":"dt.statistics.ui.ForecastAnalyzer","inputData":{"dt.statistics.ui.ForecastAnalyzer":{"query":{"expression":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.host == \"HOST-9491B45202664A48\"\n| filter dt.entity.process_group == \"PROCESS_GROUP-5EB95D48BB966200\""},"generalParameters":{"resolveDimensionalQueryData":true,"logVerbosity":"INFO","timeframe":{"startTime":"now-7d","endTime":"now"}}}}}},"result":{"loadingState":"success","executionTime":"2024-03-06T22:47:16.933Z","result":{"result":{"resultId":"85ed7ffd82b0bdc","resultStatus":"SUCCESSFUL","executionStatus":"COMPLETED","input":{"generalParameters":{"timeframe":{"startTime":"2024-02-28T22:47:17.401Z","endTime":"2024-03-06T22:47:17.401Z"},"resolveDimensionalQueryData":true,"logVerbosity":"INFO"},"query":{"expression":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.host == \"HOST-9491B45202664A48\"\n| filter dt.entity.process_group == \"PROCESS_GROUP-5EB95D48BB966200\""},"forecastHorizon":100},"output":[{"resultTimeseries":{"records":[{"dt.davis.forecast:lower":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.9341645405266046,0.9335913249293573,0.9330060893378772,0.9324090661301533,0.9318004933050799,0.9311806135197006,0.9305496731592738,0.9299079214456905,0.9292556095888055,0.9285929899843057,0.9279203154608368,0.9272378385782655,0.9265458109781827,0.9258444827870395,0.9251341020716866,0.9244149143465432,0.9236871621311478,0.922951084556453,0.922206917017917,0.9214548908731818,0.9206952331819529,0.9199281664855606,0.9191539086236011,0.9183726725850266,0.917584666391051,0.9167900930072734,0.9159891502824853,0.915182030911705,0.9143689224210878,0.9135500071724665,0.912725462385402,0.9118954601747487,0.9110601676018685,0.9102197467377593,0.9093743547364921,0.9085241439174799,0.907669261855221,0.906809851475283,0.9059460511554022,0.9050779948306821,0.9042058121019784,0.9033296283466439,0.9024495648309072,0.9015657388232302,0.9006782637080676,0.8997872490995263,0.8988928009544781,0.897995021684742,0.8970940102680057,0.8961898623571991,0.8952826703880803,0.8943725236848337,0.8934595085635081,0.8925437084331644,0.8916252038946212,0.8907040728367135,0.8897803905300085,0.8888542297179293,0.8879256607052661,0.886994751444062,0.886061567616875,0.8851261727174325,0.8841886281286971,0.8832489931983787,0.8823073253119286,0.8813636799630591,0.8804181108218394,0.8794706698004187,0.8785214071164309,0.8775703713541426,0.8766176095234016,0.8756631671164467,0.8747070881626435,0.8737494152812066,0.8727901897319716,0.8718294514642794,0.8708672391640335,0.8699035902989947,0.8689385411623699,0.8679721269147564,0.8670043816245003,0.8660353383065237,0.8650650289596792,0.8640934846026846,0.8631207353086894,0.8621468102385258,0.8611717376726945,0.8601955450421315,0.8592182589578041,0.8582399052391813,0.8572605089416203,0.8562800943827151,0.8552986851676427,0.8543163042135515,0.8533329737730249,0.8523487154566599,0.851363550254794,0.8503774985584153,0.8493905801792855,0.8484028143693121],"dt.davis.forecast:upper":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.0034245287279564,1.0032823960574662,1.0031522833803777,1.0030339583187178,1.0029271828736084,1.002831714388023,1.00274730647672,1.002673709917826,1.0026106735015032,1.0025579448320823,1.0025152710809353,1.0024823996882126,1.0024590790123409,1.0024450589268863,1.0024400913650156,1.0024439308123256,1.0024563347492959,1.0024770640449896,1.002505883303965,1.0025425611685963,1.0025868705791932,1.0026385889944411,1.002697498574759,1.002763386331209,1.0028360442425923,1.0029152693433232,1.003000863784624,1.00309263487149,1.0031903950777783,1.0032939620416694,1.0034031585436145,1.0035178124687707,1.0036377567557881,1.0037628293336798,1.0038928730483854,1.004027735580503,1.0041672693555441,1.0043113314479513,1.0044597834799975,1.0046124915165886,1.0047693259568782,1.0049301614235218,1.005094876650299,1.0052633543687564,1.005435481194447,1.0056111475132716,1.0057902473683658,1.0059726783479173,1.0061583414742454,1.0063471410944271,1.0065389847727102,1.006733783184917,1.0069314500150044,1.0071319018539169,1.0073350581008425,1.0075408408669504,1.0077491748816794,1.0079599874016112,1.0081732081219603,1.0083887690906885,1.0086066046252422,1.0088266512318986,1.0090488475276993,1.0092731341649384,1.0094994537581685,1.0097277508136815,1.009957971661411,1.0101900643892128,1.0104239787794553,1.0106596662478757,1.0108970797846295,1.011136173897481,1.0113769045570675,1.0116192291441777,1.0118631063989783,1.0121084963721316,1.0123553603777369,1.0126036609480353,1.0128533617898232,1.013104427742505,1.0133568247377376,1.0136105197606011,1.0138654808122447,1.0141216768739532,1.0143790778725787,1.0146376546472915,1.0148973789175926,1.0151582232525478,1.0154201610411917,1.0156831664640575,1.015947214465789,1.0162122807287945,1.0164783416478984,1.0167453743059538,1.0170133564503792,1.0172822664705787,1.0175520833762162,1.0178227867763054,1.0180943568590854,1.018366774372651],"avg(dt.process.cpu.usage)":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.990082965503946,1.00525594777945,0.9623409969111284,0.9950752198282216,0.9922830804354614,0.997133561803235,0.9622641120519903,0.9876470151046912,1.0185714566873179,0.9958478071830339,1.0314954705536366,1.0030655067207084,1.0031410330285628,1.0445835756758848,0.9933336105611589,1.0066735722952418,1.0011314837882916,0.9995927173230383,0.9897894781910711,0.9908572575284376,0.9719263675726122,0.9878501551846663,1.003852123270432,1.0359627296527227,0.9869327381253242,0.9480932472273708,0.949650101032522,0.9732617563671536,0.9642543683863348,1.0016574641482698,0.9605913588984145,0.9771678824805551,0.9521884221997526,0.9520663109504515,0.9664565274698866,1.0095798726297087,0.9704518814881643,0.9553655897163682,0.9919041550821728,1.0091605854324168,0.9692906089540985,1.0040407967236307,0.9881256992618243,0.9572507835096783,1.0048081820209822,0.9765797095994154,0.9663385850687821,0.9643331688311365,0.9636976732148065,0.9678073990676138,0.968441918409533,0.9722392784638537,0.9665507095969386,0.9928757938866813,0.9502455796425541,0.9629774510860443,1.019358696622981,0.9598299643231762,0.9863105233344767,0.9952494754145543,0.9994885203739007,0.9810403985074825,0.9739693805575371,0.9190258754519965,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"dt.davis.forecast:point":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.9687945358248068,0.9684368616983916,0.9680791875719765,0.9677215134455615,0.9673638393191463,0.9670061651927312,0.9666484910663161,0.9662908169399009,0.9659331428134859,0.9655754686870707,0.9652177945606556,0.9648601204342405,0.9645024463078253,0.9641447721814103,0.9637870980549952,0.96342942392858,0.9630717498021649,0.9627140756757497,0.9623564015493347,0.9619987274229196,0.9616410532965044,0.9612833791700893,0.9609257050436742,0.9605680309172591,0.960210356790844,0.9598526826644289,0.9594950085380137,0.9591373344115987,0.9587796602851835,0.9584219861587684,0.9580643120323533,0.9577066379059381,0.957348963779523,0.956991289653108,0.9566336155266928,0.9562759414002777,0.9559182672738625,0.9555605931474475,0.9552029190210324,0.9548452448946172,0.9544875707682021,0.954129896641787,0.9537722225153719,0.9534145483889568,0.9530568742625416,0.9526992001361265,0.9523415260097114,0.9519838518832963,0.9516261777568812,0.9512685036304661,0.9509108295040509,0.9505531553776358,0.9501954812512208,0.9498378071248056,0.9494801329983905,0.9491224588719753,0.9487647847455603,0.9484071106191452,0.94804943649273,0.9476917623663149,0.9473340882398997,0.9469764141134847,0.9466187399870696,0.9462610658606544,0.9459033917342393,0.9455457176078242,0.9451880434814091,0.944830369354994,0.9444726952285789,0.9441150211021637,0.9437573469757486,0.9433996728493335,0.9430419987229184,0.9426843245965033,0.9423266504700881,0.941968976343673,0.941611302217258,0.9412536280908428,0.9408959539644277,0.9405382798380125,0.9401806057115975,0.9398229315851824,0.9394652574587672,0.9391075833323521,0.938749909205937,0.9383922350795219,0.9380345609531068,0.9376768868266916,0.9373192127002765,0.9369615385738614,0.9366038644474463,0.9362461903210312,0.9358885161946161,0.9355308420682009,0.9351731679417858,0.9348154938153708,0.9344578196889556,0.9341001455625405,0.9337424714361253,0.9333847973097102],"timeframe":{"start":"2024-02-28T22:00Z","end":"2024-03-11T03:00Z"},"interval":"3600000000000","dt.entity.process_group":"PROCESS_GROUP-5EB95D48BB966200","dt.entity.host":"HOST-9491B45202664A48"}],"types":[{"indexRange":[0,0],"mappings":{"dt.entity.process_group":{"type":"string"},"dt.davis.forecast:lower":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"timeframe":{"type":"timeframe"},"dt.davis.forecast:upper":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"avg(dt.process.cpu.usage)":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"dt.davis.forecast:point":{"type":"array","types":[{"indexRange":[0,268],"mappings":{"element":{"type":"double"}}}]},"interval":{"type":"duration"},"dt.entity.host":{"type":"string"}}}],"metadata":{"metrics":[{"metric.key":"dt.process.cpu.usage","fieldName":"avg(dt.process.cpu.usage)","unit":"%","description":"This metric provides the percentage of the CPU usage of a process. The metric value is the sum of CPU time every process worker uses divided by the total available CPU time. The result is expressed in percentage. A value of 100% indicates that the process uses all available CPU resources of the host. It has a \"Process\" dimension (dt.entity.process_group_instance).","displayName":"Process CPU usage"}]}},"timeseriesAnnotations":[],"thresholds":[],"analysisStatus":"SUCCESS"}],"data":[]}}}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoryOverrides":{}},"singleValue":{"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{},"lineWrapIds":[["avg(dt.process.cpu.usage)"]],"enableLineWrap":true},"unitsOverrides":[{"identifier":"avg(dt.process.cpu.usage)","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":true,"added":1709557654209}]},"result":{"code":200,"value":{"records":[{"timeframe":{"start":"2023-11-22T16:00:00.000Z","end":"2023-11-29T17:00:00.000Z"},"interval":"3600000000000","dt.entity.host":"HOST-CCD870C19C09862F","dt.entity.process_group":"PROCESS_GROUP-B38B51D78E9FDAD7","avg(dt.process.cpu.usage)":[1.4198304154819115,1.3539063510894775,1.4860846541310084,1.4733334976857102,1.4266825990071372,1.4008421082245677,1.397322401279161,1.4036435348781076,1.3787330408891043,1.3499816595202816,1.4810809882607048,1.3757831640541553,1.5078855782258707,1.418776972603252,1.4739765845054438,1.3936932135800846,1.459549153255204,1.3937894175018088,1.2905532453293191,1.476474026376887,1.31165676850539,1.558821268081665,1.4142553119336145,1.3946788365190679,1.4353957034923412,1.5566789777048173,1.387371959288915,1.4525078018819253,1.4266040203345083,1.3358894632768261,1.3676351724668991,1.3792055501776226,1.609043802533831,1.326838704255911,1.4916512754655653,1.36027985624969,1.2105698870189154,1.4662347000036666,1.433562863956798,1.3702693204085032,1.4007249046117067,1.44332155585289,1.3796256602279784,1.6221796855926514,1.2801957501739751,1.4758249330921334,1.4235659634194724,1.4165069339721184,1.4349683891324436,1.3912406351606725,1.5954157387624022,1.4421420898288488,1.360551197712238,1.5185222886502743,1.4437854858115315,1.4287115700783268,1.368242927819244,1.4393937587738037,1.3525174080379425,1.3387348933482732,1.32379678855265,1.3874818538174485,1.4018382933712745,1.3818262483252854,1.325675220417797,1.4577892584394114,1.2628881506217542,1.5921491737365723,1.4605737561764924,1.3943656178993908,1.4297076032943083,1.3301335647702217,1.3366786751194277,1.5347811205912445,1.3116257407448508,1.4873241980870564,1.3354926100548576,1.42462676855234,1.486264128838816,1.430207508755481,1.3452811370524325,1.3142890902665945,1.3527377027226246,1.3463279435883706,1.4000012698380844,1.3980360649924242,1.440280397076252,1.4378348685861604,1.340480839619871,1.5349875291188557,1.4269834003448487,1.3296782639291551,1.5585675915082295,1.4024889210859934,1.3205890442008403,1.4789955734221403,1.3948472321979584,1.3827042634250553,1.3697092160582542,1.3658557094060457,1.512385618029617,1.3430514708730101,1.5597128411134085,1.3482927997907004,1.327129994364951,1.5002115063550996,1.5352007554749312,1.3490071629368983,1.4046914451050037,1.3208758922723622,1.5689512573125708,1.4005862825600677,1.3438274621963502,1.4940320480437506,1.4232307903228267,1.433143362285584,1.5723943809668224,1.428243466249601,1.4099264805133527,1.488223035804561,1.5184311175164376,1.31524283316598,1.511467735896739,1.5620141591483014,1.3671006999746727,1.3018310070037842,1.5510091340842367,1.504606453340445,1.4259862020864325,1.4396324823069018,1.2501049575520986,1.5550819219544876,1.4574314636912773,1.5701113755886371,1.6437687974016206,1.5084486524264018,1.4999252416956144,1.7059759144055642,1.4443986661293928,1.346938628416795,1.5135887229620522,1.4075815942552354,1.4390224510139518,1.3776700105518103,1.3740335989368053,1.3850165673387729,1.9365394740808206,1.6430194207600184,1.713867358092604,1.6205035851551937,1.5077838652754483,2.0630249259917717,1.506360192937175,1.7078108654022217,1.4927190324685868,1.8541299381921457,1.8096933629777696,1.462178245792544,1.7772774820897117,1.5211390410700152,1.6583194399988928,1.8083666381835937,1.7734658623498583,1.7852315340584857,1.6981066655711967,1.7053545245417843,1.7575687513206943,1.810314578975705,2.0224426057603626]}],"metadata":{"grail":{"canonicalQuery":"timeseries by:{dt.entity.host, dt.entity.process_group}, avg(dt.process.cpu.usage)\n| filter dt.entity.process_group == \"PROCESS_GROUP-B38B51D78E9FDAD7\"\n| filter dt.entity.host == \"HOST-CCD870C19C09862F\"","timezone":"America/Monterrey","query":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.process_group == \"PROCESS_GROUP-B38B51D78E9FDAD7\"\n| filter dt.entity.host == \"HOST-CCD870C19C09862F\"\n","scannedRecords":0,"dqlVersion":"V1_0","scannedBytes":0,"analysisTimeframe":{"start":"2023-11-22T16:00:00.000Z","end":"2023-11-29T17:00:00.000Z"},"locale":"","executionTimeMilliseconds":34,"notifications":[],"queryId":"cb49c2ab-13d7-4584-8e33-213c20783f5e","sampled":false},"metrics":[{"metric.key":"dt.process.cpu.usage","displayName":"Process CPU usage","description":"This metric provides the percentage of the CPU usage of a process. The metric value is the sum of CPU time every process worker uses divided by the total available CPU time. The result is expressed in percentage. A value of 100% indicates that the process uses all available CPU resources of the host. It has a \"Process\" dimension (dt.entity.process_group_instance).","unit":"%","fieldName":"avg(dt.process.cpu.usage)"}]},"types":[{"mappings":{"timeframe":{"type":"timeframe"},"interval":{"type":"duration"},"dt.entity.host":{"type":"string"},"dt.entity.process_group":{"type":"string"},"avg(dt.process.cpu.usage)":{"type":"array","types":[{"mappings":{"element":{"type":"double"}},"indexRange":[0,168]}]}},"indexRange":[0,0]}]},"notifications":[],"dateTime":"2023-11-29T16:04:56.221Z","input":{"value":"timeseries avg(dt.process.cpu.usage), by:{ dt.entity.host, dt.entity.process_group }\n| filter dt.entity.process_group == \"PROCESS_GROUP-B38B51D78E9FDAD7\"\n| filter dt.entity.host == \"HOST-CCD870C19C09862F\"\n","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-11-22T16:04:54.922Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-29T16:04:54.922Z"}}}}},"visualization":"davis"}},{"id":"1d78dd9f-1c22-4431-b1d9-436f60eacdd7","type":"markdown","markdown":"## Ejercicio 2.4\n* Ve al data explorer y pega la expresion siguiente en el modo avanzado\n```builtin:host.cpu.usage:avg:splitBy(\"dt.entity.host\"):filter(and(in(\"dt.entity.host\",entitySelector(\"type(host)\"))))```\n* Abra un notebook y pege el DQL para observar la metrica\n![](https://github.com/JasonOstroski/perform-hot24-intro-to-dql/blob/main/images/dataexplorer.jpg?raw=true)"},{"id":"65cb6606-42a2-411b-8351-09373e5a71e6","type":"dql","showTitle":false,"title":"Ejercicio 2.4 - Extraiga datos del explorador de datos y utilícelos en DQL","state":{"input":{"value":"timeseries usage=avg(dt.host.cpu.usage),by:{dt.entity.host},filter:{in(dt.entity.host,classicEntitySelector(\"type(host)\"))}\n| limit 100\n| lookup [fetch dt.entity.host],sourceField:dt.entity.host,lookupField:id,fields:{dt.entity.host.name=entity.name}","timeframe":{"from":"now-2h","to":"now","details":{"from":{"type":"expression","normalized":"now-2h","date":"2023-11-17T17:17:18.675Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-17T19:17:18.675Z"}}}},"visualization":"lineChart","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.host","categoryAxisLabel":"dt.entity.host","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["usage"],"leftAxisDimensions":["dt.entity.host","dt.entity.host.name"],"rightAxisDimensions":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"dt.entity.host"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"result":{"code":200,"value":{"records":[{"timeframe":{"start":"2024-03-06T20:48:00.000Z","end":"2024-03-06T22:49:00.000Z"},"interval":"60000000000","dt.entity.host":"HOST-992FDE3F6BCC2AFD","usage":[14.456865946451822,14.527931213378906,14.291173299153646,15.024251302083334,14.469310760498047,14.954611460367838,14.873143513997396,14.710104624430338,15.319279988606771,15.002201080322266,15.117989857991537,14.579629262288412,15.30029551188151,15.464705149332682,14.972826639811197,15.056688944498697,14.961954752604166,15.17919921875,14.983417510986328,15.049608866373697,14.940406799316406,15.158194224039713,15.032984415690104,15.250754038492838,15.257582346598307,14.927862803141275,15.267215728759766,15.236170450846354,15.069684346516928,14.704100290934244,15.272438049316406,14.62344741821289,14.913930257161459,15.07999038696289,15.25235366821289,14.882434844970703,14.487504323323568,14.937812805175781,15.332825978597006,15.159703572591146,15.043682098388672,14.825592041015625,15.381212870279947,15.061752319335938,15.239840189615885,15.391653696695963,15.102165222167969,14.854747772216797,14.827457427978516,15.121798197428385,15.136700948079428,15.054458618164062,15.594983418782553,14.933980305989584,15.379754384358725,15.186317443847656,15.140553792317709,14.981623331705729,14.82058080037435,15.069822947184244,15.437029520670572,14.895843505859375,15.33932113647461,15.554204305013021,14.678412119547525,14.96848169962565,15.13979466756185,15.53192138671875,15.454352060953775,15.453812917073568,15.436038970947266,15.231549580891928,15.457757314046225,14.85635248819987,15.14874013264974,15.270074208577475,15.21377944946289,15.231522878011068,14.957625071207682,15.284547170003256,14.759770711263021,15.105094909667969,15.27773920694987,15.175437927246094,15.303988138834635,15.25335439046224,14.983076731363932,15.21914545694987,15.300360361735025,14.80593999226888,15.430294036865234,15.17819595336914,15.48400624593099,15.333597819010416,15.260950724283854,14.934548695882162,15.027804056803385,15.496566772460938,15.361465454101562,15.559758504231771,14.88235855102539,15.116775512695312,15.49074935913086,14.909361521402994,15.2095095316569,14.926273345947266,14.951146443684896,15.15575917561849,15.312505086263021,15.364568074544271,15.094955444335938,15.236061096191406,15.20900853474935,15.274973551432291,15.414080301920572,15.510211944580078,15.52138900756836,15.54660161336263,15.230372111002604,14.981197357177734,null],"dt.entity.host.name":"gke-nola-workshop-smaller-pool-f915142f-b7kv.c.sales-engineering-noram.internal"},{"timeframe":{"start":"2024-03-06T20:48:00.000Z","end":"2024-03-06T22:49:00.000Z"},"interval":"60000000000","dt.entity.host":"HOST-CFC0DCDD36AB4B9C","usage":[11.686317443847656,11.27371088663737,11.466176350911459,11.781603495279947,11.589818318684896,11.217437744140625,6.701578776041667,7.291145324707031,7.244241078694661,7.161155700683594,6.958778381347656,7.144279479980469,6.866133371988933,7.092075347900391,6.756767272949219,6.7392018636067705,6.703370412190755,6.68154780069987,6.925804138183594,7.2768402099609375,7.25375239054362,7.142875671386719,6.944530487060547,7.125633239746094,7.045164744059245,7.022420247395833,6.926383972167969,7.514574686686198,9.600279490152994,12.629838307698568,12.5848019917806,11.155595143636068,10.359785715738932,8.858675638834635,8.07876459757487,7.303147633870442,7.903903961181641,7.702827453613281,7.7353769938151045,8.020619710286459,7.661556243896484,7.901273091634114,7.900964101155599,7.502255757649739,7.583871205647786,7.9483591715494795,8.216931660970053,8.260698954264322,8.103062947591146,7.703655242919922,7.486306508382161,7.738883972167969,8.12439219156901,7.947012583414714,7.953421274820964,8.10952885945638,7.9594370524088545,7.97226079305013,8.089092254638672,7.861698150634766,7.688335418701172,7.767124176025391,7.655584971110026,7.855592091878255,8.313121795654297,10.41168212890625,12.051770528157553,9.404407501220703,9.421924591064453,8.795589447021484,8.118860880533854,8.313563028971354,8.432512919108072,8.127750396728516,8.275920867919922,8.035924275716146,8.487127939860025,8.411359151204428,8.002669016520182,8.399600982666016,8.195606231689453,8.164592742919922,8.317890167236328,8.463186899820963,9.372477213541666,9.123588562011719,9.776453653971354,9.0701535542806,9.73153559366862,9.055402119954428,9.393096923828125,9.19388198852539,9.544609069824219,9.016157786051432,8.949371337890625,9.146607716878256,8.647407531738281,8.582818349202475,8.716907501220703,8.59030278523763,8.723326365152994,8.777694702148438,9.23468271891276,8.722386678059896,8.461414337158203,8.840643564860025,8.662803649902344,8.4119873046875,8.511496225992838,8.726399739583334,8.548207600911459,9.14395523071289,9.092595418294271,9.231343587239584,8.826409657796225,8.703550974527994,9.044586181640625,8.84066645304362,8.838900248209635,null,null],"dt.entity.host.name":"gke-nola-workshop-smaller-pool-f915142f-s687.c.sales-engineering-noram.internal"},{"timeframe":{"start":"2024-03-06T20:48:00.000Z","end":"2024-03-06T22:49:00.000Z"},"interval":"60000000000","dt.entity.host":"HOST-F0C54C9FF7F76912","usage":[5.995230356852214,8.181096394856771,5.8922271728515625,5.889809926350911,5.811536153157552,5.676687876383464,6.526242574055989,5.917289733886719,5.5016326904296875,5.544471740722656,5.555105845133464,5.332070668538411,7.368059794108073,5.436004638671875,5.495643615722656,5.5151316324869795,5.618787129720052,6.591266632080078,6.474362691243489,5.490366617838542,5.441609700520833,5.526027679443359,5.676520029703776,7.861863454182942,5.684073130289714,5.540255228678386,5.668664296468099,5.642622629801433,5.465045928955078,7.7441558837890625,5.580455780029297,5.434658050537109,5.564280192057292,5.517303466796875,6.486929575602214,6.316403706868489,5.459211985270183,5.652942657470703,5.7661692301432295,5.576871236165364,7.57318115234375,5.490374247233073,5.621859232584636,5.456829071044922,5.545960744222005,5.525335947672526,7.882378896077474,5.469407399495442,5.6229705810546875,5.584356943766276,5.507540384928386,6.742464701334636,6.644630432128906,5.567171732584636,5.613196055094401,5.505195617675781,5.478750864664714,7.425609588623047,5.647542317708333,5.628021240234375,5.5108896891276045,5.508364359537761,5.563381195068359,7.9177398681640625,5.415894826253255,5.469481150309245,5.512387593587239,5.610607147216797,6.41635004679362,7.122999827067058,5.699721018473308,5.529453277587891,5.648827870686849,5.607526143391927,7.451127370198567,6.0074106852213545,5.62188720703125,5.660872141520183,5.615228017171224,5.7068939208984375,7.3557688395182295,5.523507436116536,5.496331532796224,5.5334523518880205,5.496574401855469,6.974633534749349,6.470425923665364,5.630387624104817,5.874477386474609,5.664980570475261,5.560990651448567,7.9081675211588545,5.823851267496745,5.716431935628255,5.676306406656901,5.553162892659505,5.455808003743489,7.863168080647786,5.728593190511067,5.826124827067058,5.602850596110026,5.7546030680338545,6.651243845621745,6.807751973470052,5.6471608479817705,5.752736409505208,5.700674692789714,6.0170745849609375,7.950806935628255,5.663722991943359,5.616395314534505,5.8179677327473955,5.648395538330078,5.902594248453776,7.5366770426432295,5.7861684163411455,5.829282124837239,5.689927419026692,5.791849772135417,null,null],"dt.entity.host.name":"gke-nola-workshop-smaller-pool-f915142f-xn86.c.sales-engineering-noram.internal"}],"metadata":{"grail":{"canonicalQuery":"timeseries by:{dt.entity.host}, filter:in(dt.entity.host, classicEntitySelector(\"type(host)\")), avg(dt.host.cpu.usage), alias:usage\n| limit 100\n| lookup [fetch dt.entity.host], sourceField:dt.entity.host, lookupField:id, fields:{entity.name, alias:dt.entity.host.name}","timezone":"America/Mexico_City","query":"timeseries usage=avg(dt.host.cpu.usage),by:{dt.entity.host},filter:{in(dt.entity.host,classicEntitySelector(\"type(host)\"))}\n| limit 100\n| lookup [fetch dt.entity.host],sourceField:dt.entity.host,lookupField:id,fields:{dt.entity.host.name=entity.name}","scannedRecords":3,"dqlVersion":"V1_0","scannedBytes":0,"analysisTimeframe":{"start":"2024-03-06T20:48:00.000Z","end":"2024-03-06T22:49:00.000Z"},"locale":"und","executionTimeMilliseconds":248,"notifications":[],"queryId":"f5bd41d5-fd0b-4093-ab08-cd1342c85bda","sampled":false},"metrics":[{"metric.key":"dt.host.cpu.usage","displayName":"CPU usage %","description":"Percentage of CPU time when CPU was utilized. A value close to 100% means most host processing resources are in use, and host CPUs can’t handle additional work","unit":"%","fieldName":"usage"}]},"types":[{"mappings":{"timeframe":{"type":"timeframe"},"interval":{"type":"duration"},"dt.entity.host":{"type":"string"},"usage":{"type":"array","types":[{"mappings":{"element":{"type":"double"}},"indexRange":[0,120]}]},"dt.entity.host.name":{"type":"string"}},"indexRange":[0,2]}]},"notifications":[],"dateTime":"2024-03-06T22:48:36.730Z","input":{"value":"timeseries usage=avg(dt.host.cpu.usage),by:{dt.entity.host},filter:{in(dt.entity.host,classicEntitySelector(\"type(host)\"))}\n| limit 100\n| lookup [fetch dt.entity.host],sourceField:dt.entity.host,lookupField:id,fields:{dt.entity.host.name=entity.name}","timeframe":{"from":"now-2h","to":"now","details":{"from":{"type":"expression","normalized":"now-2h","date":"2023-11-17T17:17:18.675Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-17T19:17:18.675Z"}}}}}}},{"id":"e8b7853a-05e7-414f-95c4-88a711db3aba","type":"markdown","markdown":"## Ejercicio 2.5\n* Navigate to the hosts screen, add TEST as a manual tag (Key)\n* Navigate to data explorer and graph \"CPU Usage %\", split by HOST, Filter by host tag: TEST.\n* Open with... Notebooks and choose your Metrics notebook\n"},{"id":"8e9e2cc5-ff2a-44d9-abca-66713f9fef43","type":"dql","showTitle":false,"title":"Exercise 2.5 - Agregue la etiqueta \"TEST\" en el filtro seguida del tipo de host","state":{"input":{"value":"timeseries usage=avg(dt.host.cpu.usage),by:{dt.entity.host},filter:{in(dt.entity.host,classicEntitySelector(\"type(host),tag(\\\"TEST\\\")\"))}\n| limit 100\n| lookup [fetch dt.entity.host],sourceField:dt.entity.host,lookupField:id,fields:{dt.entity.host.name=entity.name}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-19T20:51:08.122Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-19T21:21:08.122Z"}}}},"visualization":"lineChart","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"result":{"code":200,"value":{"records":[{"timeframe":{"start":"2023-12-19T20:51:00.000Z","end":"2023-12-19T21:22:00.000Z"},"interval":"60000000000","dt.entity.host":"HOST-CB59742C5C6D2AB5","usage":[5.590674082438151,5.535579681396484,5.366509755452474,5.7634023030598955,5.6057688395182295,5.555344899495442,5.8870697021484375,5.585709889729817,5.455738067626953,5.7867787679036455,5.60791015625,5.748897552490234,5.5096588134765625,5.470020294189453,5.4465789794921875,6.192508697509766,5.956836700439453,5.539407094319661,5.432483673095703,5.494856516520183,5.978708902994792,6.126949310302734,6.378059387207031,6.268526713053386,5.424480438232422,6.307665506998698,6.609354654947917,5.591004689534505,5.977821350097656,null,null],"dt.entity.host.name":"ip-10-0-0-163.us-west-2.compute.internal"}],"metadata":{"grail":{"canonicalQuery":"timeseries by:{dt.entity.host}, filter:in(dt.entity.host, classicEntitySelector(\"type(host),tag(\\\"TEST\\\")\")), avg(dt.host.cpu.usage), alias:usage\n| limit 100\n| lookup [fetch dt.entity.host], sourceField:dt.entity.host, lookupField:id, fields:{entity.name, alias:dt.entity.host.name}","timezone":"America/New_York","query":"timeseries usage=avg(dt.host.cpu.usage),by:{dt.entity.host},filter:{in(dt.entity.host,classicEntitySelector(\"type(host),tag(\\\"TEST\\\")\"))}\n| limit 100\n| lookup [fetch dt.entity.host],sourceField:dt.entity.host,lookupField:id,fields:{dt.entity.host.name=entity.name}","scannedRecords":3,"dqlVersion":"V1_0","scannedBytes":416,"analysisTimeframe":{"start":"2023-12-19T20:51:00.000Z","end":"2023-12-19T21:22:00.000Z"},"locale":"","executionTimeMilliseconds":67,"notifications":[{"severity":"INFO","messageFormat":"The function classicEntitySelector() is deprecated and will be removed in the future. To avoid breaking changes in your DQL scripts consider using native DQL functionality instead.","syntaxPosition":{"start":{"column":87,"index":86,"line":1},"end":{"column":135,"index":134,"line":1}},"messageFormatSpecifierTypes":[],"arguments":[],"notificationType":"DEPRECATED_CLASSIC_ENTITY_SELECTOR","message":"The function classicEntitySelector() is deprecated and will be removed in the future. To avoid breaking changes in your DQL scripts consider using native DQL functionality instead."}],"queryId":"4074ae1f-6794-46a1-886f-841004d3b798","sampled":false},"metrics":[{"metric.key":"dt.host.cpu.usage","displayName":"CPU usage %","description":"Percentage of CPU time when CPU was utilized. A value close to 100% means most host processing resources are in use, and host CPUs can’t handle additional work","unit":"%","fieldName":"usage"}]},"types":[{"mappings":{"timeframe":{"type":"timeframe"},"interval":{"type":"duration"},"dt.entity.host":{"type":"string"},"usage":{"type":"array","types":[{"mappings":{"element":{"type":"double"}},"indexRange":[0,30]}]},"dt.entity.host.name":{"type":"string"}},"indexRange":[0,0]}]},"notifications":[{"message":"The function classicEntitySelector() is deprecated and will be removed in the future. To avoid breaking changes in your DQL scripts consider using native DQL functionality instead.","severity":"info"}],"dateTime":"2023-12-19T21:21:47.578Z","input":{"value":"timeseries usage=avg(dt.host.cpu.usage),by:{dt.entity.host},filter:{in(dt.entity.host,classicEntitySelector(\"type(host),tag(\\\"TEST\\\")\"))}\n| limit 100\n| lookup [fetch dt.entity.host],sourceField:dt.entity.host,lookupField:id,fields:{dt.entity.host.name=entity.name}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-19T20:51:08.122Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-19T21:21:08.122Z"}}}}}}},{"id":"ea6769ba-e3f9-40b5-8c97-0ca85ec9d0ab","type":"markdown","markdown":"# Ejercicio 3\n1. ¡Explore las métricas en el mosaico Notebook! (Actualmente es una característica en fase beta, ¡más opciones por venir!)"},{"id":"7640c4ef-bd5e-4ef7-83ec-181ddeb25c88","type":"dql","title":"Explora metricas","showTitle":true,"queryConfig":{"additionalFilters":{},"version":"4.3.1","datatype":"metrics","metricKey":"dt.host.cpu.iowait","aggregation":"avg","by":[]},"showInput":true,"state":{"input":{"value":"timeseries avg(dt.host.cpu.iowait)","timeframe":{"from":"now-7d","to":"now","details":{"from":{"type":"expression","normalized":"now-7d","date":"2023-11-22T16:05:13.818Z"},"to":{"type":"expression","normalized":"now","date":"2023-11-29T16:05:13.818Z"}}}},"davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"firstVisibleRowIndex":0,"columnWidths":{}}},"state":"idle"}}]}